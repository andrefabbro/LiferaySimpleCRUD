<?xml version="1.0"?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:liferay-ui="http://liferay.com/faces/ui">
	<h:head />
	<h:body>

		<p:messages showDetail="false" autoUpdate="true" />

		<h:form>

			<p:dataTable id="phoneListTable" var="phone"
				rendered="#{not empty mobilePhoneBean.results}"
				value="#{mobilePhoneBean.results}">

				<f:facet name="header">
					<h:outputText value="Phones" />
				</f:facet>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Name" />
					</f:facet>
					<h:outputText value="#{phone.name}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Brand" />
					</f:facet>
					<h:outputText value="#{phone.brand}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Released" />
					</f:facet>
					<h:outputText value="#{phone.releaseDate}">
						<f:convertDateTime pattern="MM-dd-yyyy" />
					</h:outputText>
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Price" />
					</f:facet>
					<h:outputText value="#{phone.price}">
						<f:convertNumber type="currency" />
					</h:outputText>
				</p:column>

				<p:column>
					
					<p:commandButton action="editMobilePhone"
						actionListener="#{mobilePhoneBean.load(phone.id)}" id="editPhone"
						title="Edit" value="Edit" />
						
					<p:commandButton action="listMobilePhone"
						actionListener="#{mobilePhoneBean.delete(phone.id)}"
						update="phoneListTable" id="deletePhone" title="Delete"
						value="Delete" />
						
				</p:column>
			</p:dataTable>

			<p:commandButton action="editMobilePhone" id="newPhone" title="Add"
				value="Add New Phone" />
		</h:form>

	</h:body>
</f:view>